{{log "this.previous" this.previous this.resource.isPending "--" this.resource.value}}

<div class='TrackedFunction' ...attributes>
  <p>
    {{#if this.resource.isPending}}
      Loading via trackedFunction...


      {{#if this.previous}}
        Previous value:
        {{this.previous.firstName}}
      {{/if}}
    {{else if this.resource.isResolved}}
      {{this.resource.value.firstName}}
    {{else if this.resource.isRejected}}
      Something went wrong:
      {{format-error this.resource.error}}
    {{else}}
      The promise failed to start, this should never happen.
    {{/if}}
  </p>

  <p>
    <button type='button' {{on 'click' this.resource.retry}}>
      Restart
    </button>

    <button type='button' {{on 'click' this.restartFail}}>
      Restart and fail
    </button>
  </p>
</div>